<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
					font-size:0.2rem
			}
		</style>
		    <meta
		      name="viewport"
		      content="width=device-width, initial-scale=1.0, maximum-scale=3.0, minimum-scale=1.0, viewport-fit=cover"
		    />
	</head>
	<body>
		<script src="https://unpkg.com/vconsole@latest/dist/vconsole.min.js"></script>
		<script>
		  // VConsole 默认会挂载到 `window.VConsole` 上
		  var vConsole = new window.VConsole();
		</script>
		<script type="text/javascript">
			 function change() {
			        var kk = document.documentElement.clientWidth || document.body.clientWidth
			        document.documentElement.style.fontSize = kk*100 / 750 + 'px'
			        console.log('1rem=' + kk * 100 / 750 + 'px')
			    }
			 
			    change()
			    // 窗口事件
			    window.onresize = function () {
			        change()
			 
			    }
			    // 横竖屏事件
			    window.onorientationchange = function () {
			        change()
			    }
			
		</script>
		<script src="https://g.alicdn.com/dingding/dingtalk-jsapi/2.13.42/dingtalk.open.js"></script>
		<script type="text/javascript">
		

		function saoma(){
			dd.biz.util.scan({
			    type: String , // type 为 all、qrCode、barCode，默认是all。
			    onSuccess: function(data) {
					console.log(data)
			    //onSuccess将在扫码成功之后回调
			      /* data结构
			        { 'text': String}
			      */
			    },
			   onFail : function(err) {
			   }
			})
		}
		window.onbeforeunload = function(e) {
			var e = window.event ||e;
			e.returnValue=("是否确定关闭页面");
		}
		dd.ready(function() {
				document.addEventListener('backbutton', function(e) {
					alert("不许走")
				    // 在这里处理你的业务逻辑
				    e.preventDefault(); 
					//backbutton事件的默认行为是回退历史记录，如果你想阻止默认的回退行为，那么可以通过preventDefault()实现
				});
		})
		
		</script>
		<button onclick="saoma()">扫码</button>

		
	</body>
</html>
